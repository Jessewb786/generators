# EventCatalog AsyncAPI Example - Message ownership

When you have multiple AsyncAPI files you might define the same message in multiple files.

For example if file1 defines a message (e.g produces OrderPlaced) and file2 also defines a message (e.g consumed OrderPlaced) then EventCatalog will document
this message twice.

This can be confusing for users and you may want to control which service owns a message.

You can use the `x-eventcatalog-role` extension to define the ownership of a message.

For example, in the example above we can define file1 to be the `provider` of the message and file2 to be the `client` of the message. In this case EventCatalog will only create the message once (for the provider) and skip message creation for clients.

This example contains:

- Two basic services that are producing and consuming the same message (`inventoryReserved` is the event shared)
- The `inventoryReserved` is owned and produced by the Inventory Service and consumed by the Fraud Detection Service
- EventCatalog will ignore any messages that are marked as `client` and will not document them.
- Generating EventCatalog from AsyncAPI files
- Mapping multiple AsyncAPI files into a domain
- EventCatalog generated by AsyncAPI files

### Getting Started

1. Clone this project
1. Run `npm install`
1. Get and configure a AsyncAPI license key from [AsyncAPI](https://eventcatalog.cloud) (14 day free trial)
1. Run the generators `npm run generate`
1. Run the catalog `npm run dev`
1. View your catalog at https://localhost:3000

### Features for OpenAPI Plugin

- Auto versioning of domains, services and messages
- Document events, queries and commands using custom extensions to AsyncAPI
- Assign each route/message a version independent of your AsyncAPI version
- Visually see AsyncAPI files in your catalog.
- And much more...

To dive into how this plugin can help you, you can read the [AsyncAPI Plugin Docs](https://www.eventcatalog.dev/integrations/asyncapi)

